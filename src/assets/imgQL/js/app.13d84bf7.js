(function(e){function t(t){for(var i,o,r=t[0],c=t[1],l=t[2],u=0,f=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var r=n[o];0!==a[r]&&(i=!1)}i&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},a={app:0},s=[];function r(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"eae45ec3"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var i="css/"+({about:"about"}[e]||e)+"."+{about:"a86221ed"}[e]+".css",a=c.p+i,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return t()}var f=document.getElementsByTagName("style");for(r=0;r<f.length;r++){l=f[r],u=l.getAttribute("data-href");if(u===i||u===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var i=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete o[e],h.parentNode.removeChild(h),n(s)},h.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){o[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var f=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",f.name="ChunkLoadError",f.type=i,f.request=o,n[1](f)}a[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/spgland/v18/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var h=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"05c6":function(e,t,n){e.exports=n.p+"img/mlounge.6e6cf8aa.jpg"},"0899":function(e,t,n){e.exports=n.p+"img/mroom.b5777e3d.jpg"},"0982":function(e,t,n){e.exports=n.p+"img/level2_5.82189d28.jpg"},"112f":function(e,t,n){e.exports=n.p+"img/level2_8.070a6c93.jpg"},"128f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAATCAYAAACORR0GAAAACXBIWXMAAAsSAAALEgHS3X78AAABwElEQVQ4jaVVMXLCMBDcMPTJD/AP8A9CWjchvWYwLSrgByEvwClUhxnUYwrcQn7g/IAnkBc4c57VRMAYK+RmhJF01u6e7s53VVUhxAqrHwDEiTL7JvfC6giAjDJR5ujvdQJBUgAHALvC6vkVV/HbAdiTWDgQQT4A3HNpcMU9B/ANoC9gwUCF1RlB2sgMC6tniTKlR6Tvq28EKqxeApi2gdCE0ELeIdgb12cuhF3+GfISnQmrx0AQMSH1CmBUWJ0nyswZ8h7vLesyrn85tDZmWMoMk4NjAM9Ul3NMKSLr3AJCi6hiTZAZ13uc55zX5weld4OVzDCxNFFG0v/LkTivt5uBWJCOdczn8Wxemyi8GchLIng1E53NHanyP6GLWcQSviXvpce9Q2H1SWEL0PuNQCXfHfB+Mq5/cu7UbuSnbqpk4/cmSdtRA4AcdMKWHcQV9xNJHKh4nCizlDoCq9k3aYqytghU59jLoXsCu7DWCdN4R4ky4jwOBJKe9iLM2RGcurn7XLR+j3ipude9L0Ln+YqyNaebRBmntL2OWHhysCtO6WtN5upHCleU/ZooCh3b1WRwzXe7mkTb1SS92Ksq/AA0CvXCYCw3MgAAAABJRU5ErkJggg=="},1900:function(e,t,n){e.exports=n.p+"img/1.48563b2d.jpg"},"1f46":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("d4ec"),o=function e(){Object(i["a"])(this,e),this.baseUrl="",this.projectId="demo",this.viewDistance=100,this.linkDistance=2e3,this.camHeight=1.6,this.fov=60,this.minZoom=20,this.maxZoom=100,this.showCursor=!1,this.showHotspot=!1,this.transitionscale=2,this.updateOnChange=!0,this.autorotdelay=0,this.canZoom=!1,this.isMobile=!matchMedia("(pointer:fine)").matches,this.cubeloader={fov:90,cropscale:.5,faces:[{count:8,angle:0},{count:8,angle:45},{count:1,angle:90},{count:8,angle:-45},{count:1,angle:-90}]}};o.config=new o},2063:function(e,t,n){e.exports=n.p+"img/level2_9.43ca87ae.jpg"},2073:function(e,t,n){e.exports=n.p+"img/co.4f554bef.jpg"},"21d2":function(e,t,n){e.exports=n.p+"img/level2_9.43ca87ae.jpg"},2350:function(e,t,n){e.exports=n.p+"img/level2_10.2ac01a76.jpg"},2699:function(e,t,n){e.exports=n.p+"img/turnb.0c4d49a4.svg"},"27c7":function(e,t,n){},"28b7":function(e,t,n){e.exports=n.p+"img/mroom.b5777e3d.jpg"},"2c0f":function(e,t,n){e.exports=n.p+"img/poorbar.48a2087b.jpg"},"2f67":function(e,t,n){e.exports=n.p+"img/floor5.d84a0daa.jpg"},"2f8a":function(e,t,n){e.exports=n.p+"img/2.e46568a5.jpg"},"31b7":function(e,t,n){e.exports=n.p+"img/mroom.046150f9.jpg"},3209:function(e,t,n){e.exports=n.p+"img/level2_9.22a0df96.jpg"},"32c5":function(e,t,n){e.exports=n.p+"img/floor5.6605f41e.jpg"},3820:function(e,t,n){e.exports=n.p+"img/level2_7.8dbcef7b.jpg"},"3aad":function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var i=n("1da1"),o=n("b85c"),a=n("d4ec"),s=n("bee2"),r=n("262e"),c=n("2caf"),l=(n("96cf"),n("d81d"),n("99af"),n("d3b7"),n("2ca0"),n("caad"),n("2532"),n("b0c0"),n("9911"),n("4de4"),n("7db0"),n("e9c4"),n("5a89")),u=function(){function e(t){Object(a["a"])(this,e),this.name="",this.fullname="",this.lock=!1,this.select=!1,this.visible=!0,this.children=[],this.name=t||"default",this.fullname=this.name}return Object(s["a"])(e,[{key:"traverse",value:function(e,t){var n,i=Object(o["a"])(this.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;(!a.lock&&a.visible||t)&&(e(a),a.traverse(e,t))}}catch(s){i.e(s)}finally{i.f()}}},{key:"render",value:function(e){this.visible}}]),e}(),f=n("257e"),h=(n("cb29"),function e(){Object(a["a"])(this,e),this.runtime=!1,this.link="showlinkonlyselect",this.linkColor="green",this.radius=4,this.borderRadius=2,this.border="select",this.color="blue",this.colorError="red",this.colorDisable="black",this.borderColor="white",this.canSelect=!0,this.canPan=!0,this.canZoom=!0,this.baseUrl="",this.camera=null});h.config=new h;var d,p,g,v,m,_,w,b=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(e){var i;return Object(a["a"])(this,n),i=t.call(this,null===e||void 0===e?void 0:e.name),i.guid="",i.pos=new l["A"],i.pos2d={x:0,y:0},i.profile="",i.links=[],i.status=!1,Object.assign(Object(f["a"])(i),e),i.children=[],i}return Object(s["a"])(n,[{key:"isInRect",value:function(e){return(this.pos2d.x-e.x)*(this.pos2d.x-e.x-e.width)<0&&(this.pos2d.y-e.y)*(this.pos2d.y-e.y-e.height)<0}},{key:"render",value:function(e){if(this.visible){if(("showlink"==h.config.link||"showlinkonlyselect"==h.config.link&&this.select)&&!this.lock&&this.visible){e.strokeStyle=h.config.linkColor,e.lineWidth=h.config.borderRadius;var t,n=Object(o["a"])(this.links);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.beginPath(),e.moveTo(this.pos2d.x,this.pos2d.y),e.lineTo(i.pos2d.x,i.pos2d.y),e.stroke(),e.closePath()}}catch(a){n.e(a)}finally{n.f()}}this.lock?e.fillStyle=h.config.colorDisable:this.status?this.status&&(e.fillStyle=h.config.color):e.fillStyle=h.config.colorError,e.beginPath(),e.arc(this.pos2d.x,this.pos2d.y,h.config.radius,0,2*Math.PI),e.fill(),e.fillStyle=h.config.color,("all"==h.config.border||"select"==h.config.border&&this.select)&&(e.lineWidth=h.config.borderRadius,e.strokeStyle=h.config.borderColor,e.stroke()),e.closePath()}}}]),n}(u),A=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(e){var i;if(Object(a["a"])(this,n),i=t.call(this,null===e||void 0===e?void 0:e.name),Object.assign(Object(f["a"])(i),e),i.children=[],null!==e&&void 0!==e&&e.children){var s,r=Object(o["a"])(e.children);try{for(r.s();!(s=r.n()).done;){var c=s.value;i.children.push(new b(c))}}catch(l){r.e(l)}finally{r.f()}}return i}return Object(s["a"])(n,[{key:"render",value:function(e){if(this.visible){var t,n=Object(o["a"])(this.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.lock&&(i.lock=this.lock),i.render(e)}}catch(a){n.e(a)}finally{n.f()}}}}]),n}(u),y=function e(){Object(a["a"])(this,e),this.x=0,this.y=0,this.width=0,this.height=0},j={x:10,y:10,width:60,height:60,r:45},C=1,P={x:0,y:0},E={x:0,y:0},I={Left:0,Mid:1,Right:2},x=I.Left,M=new y,k=new l["i"],O=new l["i"],D=new l["i"],R=(new l["o"],new l["o"]),L=0,B=null,S=1024,z=512,T=new l["A"],U=0,W=!1,K=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(e,i){var o;return Object(a["a"])(this,n),o=t.call(this),o.onloaded=null,o.onclick=null,o.onchangeselect=null,o.pos=new l["A"],o.rot=new l["A"],o.scale=new l["A"](1),o.gps=new l["A"],o.map={path:""},v=e,Object.assign(h.config,i),g=document.createElement("canvas"),d=g.getContext("2d"),v.appendChild(g),v.addEventListener("pointerdown",(function(e){o.onPointerDown(e)})),v.addEventListener("contextmenu",(function(e){return e.preventDefault()})),v.addEventListener("wheel",(function(e){return o.onPointerWheel(e)})),_=function(e){return o.onPointerMove(e)},w=function(e){return o.onPointerUp(e)},o}return Object(s["a"])(n,[{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";W=!1,this.children=[];var n="".concat(h.config.baseUrl,"/scene/").concat(t);h.config.runtime&&(n="".concat(h.config.baseUrl,"/scene/").concat(t,".json?t=").concat(Math.random())),fetch(n).then((function(e){return e.json()})).then((function(t){B=t.data,h.config.runtime&&(B=t),e.pos=new l["A"](B.pos.x,B.pos.y,B.pos.z),e.rot=new l["A"](B.pos.x,B.pos.y,B.pos.z),R.setFromEuler(new l["b"](B.rot.x*Math.PI/180,B.rot.y*Math.PI/180,B.rot.z*Math.PI/180)),R.clone().invert(),e.scale=new l["A"](B.scale.x,B.scale.y,B.scale.z),k.compose(e.pos,R,e.scale),D=k.clone().invert(),B.gps&&O.compose(new l["A"]((B.gps.east+B.gps.west)/2,(B.gps.north+B.gps.south)/2,0),(new l["o"]).setFromEuler(new l["b"](0,0,B.gps.rotation*Math.PI/180)),new l["A"](B.gps.east-B.gps.west,B.gps.north-B.gps.south,1)),e.pos=B.pos,e.rot=B.rot,e.scale=B.scale,e.gps=B.gps,e.map.path=B.map.path;var n=B.scale.x/B.scale.y;if(n*v.clientHeight<v.clientWidth?(g.width=v.clientHeight*n,g.height=v.clientHeight):(g.width=v.clientWidth,g.height=v.clientWidth/n),h.config.runtime){var i,a=new A,s=Object(o["a"])(B.points);try{for(s.s();!(i=s.n()).done;){var r=i.value,c=new b(r);a.children.push(c)}}catch(_){s.e(_)}finally{s.f()}e.children.push(a)}else{var u,f=Object(o["a"])(B.children);try{for(f.s();!(u=f.n()).done;){var d=u.value,p=new A(d);e.children.push(p)}}catch(_){f.e(_)}finally{f.f()}}m=new Image,m.onload=function(){return e.init()},B.map.path.startsWith("/")||(B.map.path="/"+B.map.path),m.src="".concat(h.config.baseUrl).concat(B.map.path)})).catch(console.log)}},{key:"onPointerWheel",value:function(e){if(h.config.canZoom){var t=this.getMousePos(e.offsetX,e.offsetY);C=Math.round(100*(C+e.deltaY/1e3))/100,P.x=e.offsetX-t.x/C,P.y=e.offsetY-t.y/C,this.render()}}},{key:"onPointerDown",value:function(e){e.preventDefault(),x=e.button,v.addEventListener("pointermove",_),v.addEventListener("pointerup",w),M.x=e.offsetX,M.y=e.offsetY,E.x=this.getMousePos(e.offsetX,e.offsetY).x,E.y=this.getMousePos(e.offsetX,e.offsetY).y,L=(new Date).getTime()}},{key:"onPointerMove",value:function(e){e.preventDefault(),x==I.Left?h.config.canSelect&&(M.width=e.offsetX-M.x,M.height=e.offsetY-M.y):h.config.canPan&&(P.x=e.offsetX-E.x/C,P.y=e.offsetY-E.y/C),this.render()}},{key:"clearSelect",value:function(){this.traverse((function(e){e.select=!1}))}},{key:"addSelect",value:function(e){var t,n=Object(o["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.select=!0}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeSelect",value:function(e){var t,n=Object(o["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.select=!1}}catch(a){n.e(a)}finally{n.f()}}},{key:"onPointerUp",value:function(e){if(e.preventDefault(),v.removeEventListener("pointermove",_),v.removeEventListener("pointerup",w),x==I.Left&&h.config.canSelect){var t,n=[];this.traverse((function(e){if(e instanceof b){var t=e;t.isInRect(M)&&n.push(t)}})),e.ctrlKey||e.shiftKey?this.addSelect(n):e.altKey?this.removeSelect(n):(this.clearSelect(),this.addSelect(n));var i=[];this.traverse((function(e){e instanceof b&&e.select&&i.push(e)})),null===(t=this.onchangeselect)||void 0===t||t.call(this,i)}if(x==I.Left&&(new Date).getTime()-L<500&&(M.width=e.offsetX-M.x,M.height=e.offsetY-M.y,M.width<10&&M.height<10)){var o,a=1e6,s=null;if(this.traverse((function(e){if(e instanceof b){var t=(e.pos2d.x-M.x)*(e.pos2d.x-M.x)+(e.pos2d.y-M.y)*(e.pos2d.y-M.y);t<a&&(a=t,s=e)}})),s)null===(o=this.onclick)||void 0===o||o.call(this,s)}M.width=0,M.height=0,this.render()}},{key:"selectItem",value:function(e){this.clearSelect(),e instanceof b?e.select=!0:e.traverse((function(e){if(e instanceof b){var t=e;t.select=!0}})),this.render()}},{key:"setSelected",value:function(e){this.traverse((function(t){t instanceof b&&(t.select=e.includes(t.name))})),this.render()}},{key:"lockItem",value:function(e,t){e.lock=t,e.traverse((function(e){e.lock=t}),!0),this.render()}},{key:"seletecHalf",value:function(e){var t=0;this.traverse((function(n){n.select&&(n.select=0==t,t=(t+1)%e)})),this.render()}},{key:"seletecInvert",value:function(){this.traverse((function(e){e instanceof b&&(e.select=!e.select)})),this.render()}},{key:"hideSelect",value:function(){this.traverse((function(e){e instanceof b&&e.select&&(e.visible=!1)})),this.render()}},{key:"unhideAll",value:function(){this.traverse((function(e){return e.visible=!0}),!0),this.render()}},{key:"lockSelect",value:function(){this.traverse((function(e){e instanceof b&&e.select&&(e.lock=!0)})),this.render()}},{key:"unlockAll",value:function(){this.traverse((function(e){return e.lock=!1}),!0),this.render()}},{key:"setSelectProfile",value:function(e){this.traverse((function(t){t instanceof b&&t.select&&(t.profile=e)}))}},{key:"getSelectValue",value:function(){var e=[];this.traverse((function(t){if(t instanceof b){var n=t;n.select&&e.push(n)}}));for(var t=new b(e[0]),n=0,i=e;n<i.length;n++){var o=i[n];for(var a in t)"string"==typeof t[a]&&t[a]!=o[a]&&(t[a]="-"),"number"==typeof t[a]&&t[a]!=o[a]&&(t[a]="-")}return t}},{key:"distanceTo",value:function(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z))}},{key:"showlink",value:function(e){h.config.link=e,this.render()}},{key:"link",value:function(e){var t=this,n=[];this.traverse((function(e){if(e instanceof b){var t=e;t.select&&n.push(t)}}));for(var i=function(){var i,r=s[a],c=n.filter((function(n){return n.name!=r.name&&t.distanceTo(n.pos,r.pos)<e})).map((function(e){return{name:e.name,pos:e.pos,pos2d:e.pos2d,type:1}})),l=Object(o["a"])(c);try{var u=function(){var e=i.value;r.links.find((function(t){return t.name==e.name}))||r.links.push(e)};for(l.s();!(i=l.n()).done;)u()}catch(f){l.e(f)}finally{l.f()}},a=0,s=n;a<s.length;a++)i();this.render()}},{key:"unlink",value:function(){this.traverse((function(e){if(e instanceof b){var t=e;t.select&&(t.links=[])}})),this.render()}},{key:"save",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"scene",n=new Blob([JSON.stringify(this)],{type:"text/plain"}),i=new FormData,i.append("file",n,"".concat(t,".scene")),o="",e.next=7,fetch("".concat(h.config.baseUrl,"/save"),{method:"post",body:i}).then((function(e){return e.json()})).then((function(e){return o=e.msg})).catch(console.log);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"build",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"0",n=new Blob([JSON.stringify(this)],{type:"text/plain"}),i=new FormData,i.append("file",n,"".concat(t,".json")),o="",e.next=7,fetch("".concat(h.config.baseUrl,"/build"),{method:"post",body:i}).then((function(e){return e.json()})).then((function(e){return o=e.msg})).catch(console.log);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"export",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={reject:{data:[]}},this.traverse((function(e){if(e instanceof b){if(t&&!e.select)return;var i={id:e.id,guid:e.guid,name:e.name,fullname:e.fullname,profile:e.profile,pos:e.pos,rot:e.rot,quality:e.quality,panotype:e.panotype,links:e.links.map((function(e){return{name:e.name,pos:e.pos,type:e.type}}))};n.reject.data.push(i)}})),i=new Blob([JSON.stringify(n,null,2)],{type:"text/plain"}),o=new FormData,o.append("file",i,"requestcapture.json"),a="requestcapture.json : ",e.next=8,fetch("".concat(h.config.baseUrl,"/export"),{method:"post",body:o}).then((function(e){return e.json()})).then((function(e){return a+=e.msg})).catch(console.log);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"get2DPos",value:function(e){var t=new l["A"](e.x,e.y,e.z);return t.applyMatrix4(D),{x:l["h"].clamp(Math.round(t.x*S+S/2),.02*S,.98*S),y:l["h"].clamp(Math.round(t.y*z+z/2),.02*z,.98*z)}}},{key:"getDisplay2DPos",value:function(e){var t=this.get2DPos(e);return t.x=t.x/C+P.x,t.y=t.y/C+P.y,t}},{key:"get2DRot",value:function(e){return-e-(j.r-this.rot.z)/180*Math.PI}},{key:"init",value:function(){var e,t=this;this.genCam(),S=m.width,z=m.width/g.width*g.height,C=S/g.width,this.traverse((function(e){e instanceof b&&(e.pos2d=t.getDisplay2DPos(e.pos))})),W=!0,this.updateCam(T,U),this.render(),null===(e=this.onloaded)||void 0===e||e.call(this)}},{key:"resetTransform",value:function(){C=S/g.width,P.x=0,P.y=0,this.render()}},{key:"getMousePos",value:function(e,t){return new l["A"]((e-P.x)*C,(t-P.y)*C,0)}},{key:"render",value:function(){var e=this;if(m){d.clearRect(0,0,g.width,g.height),d.drawImage(m,0,0,S,z,P.x,P.y,S/C,z/C),this.traverse((function(t){if(t instanceof b){t.pos2d=e.getDisplay2DPos(t.pos);var n,i=Object(o["a"])(t.links);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.pos2d=e.getDisplay2DPos(a.pos)}}catch(s){i.e(s)}finally{i.f()}}}));var t,n=Object(o["a"])(this.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.render(d)}}catch(a){n.e(a)}finally{n.f()}0!=M.width&&0!=M.height&&(d.fillStyle="#ff000033",d.strokeStyle="#ff000088",d.strokeRect(M.x,M.y,M.width,M.height),d.fillRect(M.x,M.y,M.width,M.height)),this.drawCamera()}}},{key:"updateCam",value:function(e,t){if(W){var n=this.getDisplay2DPos(new l["A"](e.x,e.y,0));T.x=n.x,T.y=n.y,U=this.get2DRot(t),this.render()}else T.x=e.x,T.y=e.y,U=t}},{key:"drawCamera",value:function(){p&&(d.translate(T.x,T.y),d.rotate(U),d.drawImage(p,-j.x/C,-j.y/C,j.width/C,j.height/C),d.rotate(-U),d.translate(-T.x,-T.y))}},{key:"genCam",value:function(){var e=this;if(p=document.createElement("canvas"),h.config.camera){Object.assign(j,h.config.camera.transform);var t=new Image;t.src=h.config.camera.path,t.onload=function(){p.width=j.width,p.height=j.width;var n=p.getContext("2d");n.drawImage(t,0,0,p.width,p.height),e.render()}}}}]),n}(u)},"3ae5":function(e,t,n){e.exports=n.p+"img/level2_7.fb636364.jpg"},"3bc2":function(e,t,n){e.exports=n.p+"img/level2_1.4d3b6f89.jpg"},"3ddd":function(e,t,n){e.exports=n.p+"img/level2_8.277573c9.jpg"},"3e94":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAYCAYAAADpnJ2CAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsklEQVRIie2WsQ3CMBBFf6IMwCakck3jAZgA2MDFbUEKNsAjpCZNWlKZTcIERj/CI9wJIb/C7ZPOumc3OWcs09AD2EGX5LyszfNxPQO4K8vIC8ChBRAMZGRPYccDQDQYaXRexu0OLWlNbVX4F0KuBUtzA9Aru4Lzklga7uBJWUbepTSmlHgHg9KM20hraarw54XdMg1ch/n7ImtycV4iS5MMZIUjR8qOWsBP1Gz7TfSyfgAoszoJIHoDDQAAAABJRU5ErkJggg=="},4104:function(e,t,n){e.exports=n.p+"img/2.9c8a9134.jpg"},4231:function(e,t,n){e.exports=n.p+"img/mlounge.6aeda273.jpg"},"45f1":function(e,t,n){e.exports=n.p+"img/co.4f554bef.jpg"},"49d0":function(e,t,n){},"4c67":function(e,t,n){e.exports=n.p+"img/level2_1.4d3b6f89.jpg"},"4ecc":function(e,t,n){"use strict";n("6ca1")},5557:function(e,t,n){e.exports=n.p+"img/location.5bd55023.svg"},"573f":function(e,t,n){},5998:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAdCAYAAACwuqxLAAAACXBIWXMAAAsSAAALEgHS3X78AAABQklEQVRIidWWgW3CMBBFPygLtCN0BSRPgEegI5QFLMEKCC8AK2QDnAVqwQjtCDBC0KFLZUXEPrDTql9KlDjKvTv77uxJ27YYU9NRrf8GoKKbd/YDAF2zTHvfABoAa6XNhQam3tkVgF0B46Q3dvTYDUw+D9szgJeAfskAkJNzfn5X2tQVGyftlTabHPe9s2TrHMDqv8si7+yMPSoP8M4ueKG+CBRz4ilAsNAUgbtniLPv6J11DwOUNpRNywSke5/3/5dEQJC9AJJUNItKQJJpmgsR1cE9CLeFMoABiCiKKvaRu2y/2JpU5ogAXGw7qaEhxaboJOys0QY5GIHShtr3a6ofdRvLwwCpgZTCKcrunD3dHKt4J6OcXnlnxdkxoLA2Th1gyYWDQvsyqeaGidvBi0t/Ia3OhBouSvwAxtQ/P9kBuAKQQHKqeXP7LwAAAABJRU5ErkJggg=="},"5b74":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,o,a,s=n("d4ec"),r=n("bee2"),c=(n("a15b"),n("4c53"),n("5a89")),l=n("22b5"),u=n("1f46"),f=function(){function e(t,n){Object(s["a"])(this,e),this.renderer=t,this.scene=new c["r"],this.camera=n;var i={minFilter:c["f"],magFilter:c["f"],format:c["p"]};this.fbo=new c["B"](window.innerWidth,window.innerHeight,i)}return Object(r["a"])(e,[{key:"render",value:function(e){e?(this.renderer.setRenderTarget(this.fbo),this.renderer.clear(),this.renderer.render(this.scene,this.camera)):(this.renderer.setRenderTarget(null),this.renderer.render(this.scene,this.camera))}}]),e}(),h=new c["s"]({uniforms:{tDiffuse1:{value:null},tDiffuse2:{value:null},mixRatio:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = vec2( uv.x, uv.y );","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float mixRatio;","uniform sampler2D tDiffuse1;","uniform sampler2D tDiffuse2;","varying vec2 vUv;","void main() {","\tvec4 texel1 = texture2D( tDiffuse1, vUv );","\tvec4 texel2 = texture2D( tDiffuse2, vUv );","\t\tgl_FragColor = mix( texel2, texel1, mixRatio );","}"].join("\n")}),d=function e(){Object(s["a"])(this,e),this["transition"]=1},p=function(){function e(t,n){var i=this;Object(s["a"])(this,e),this.transitionParams=new d,this.moveParams=new d,this.onComplete=null,this.renderer=t;var o=new c["z"];t.getSize(o),this.scene=new c["r"],this.sceneA=new f(t,n),this.sceneB=new f(t,n),this.camera=new c["l"](o.x/-2,o.x/2,o.y/2,o.y/-2,-10,10);var a=new c["n"](window.innerWidth,window.innerHeight),r=new c["j"](a,h);this.scene.add(r),h.uniforms.tDiffuse1.value=this.sceneA.fbo.texture,h.uniforms.tDiffuse2.value=this.sceneB.fbo.texture,this.fadetween=new l["a"].Tween(this.transitionParams).to({transition:1},1500).onComplete((function(){var e;null===(e=i.onComplete)||void 0===e||e.call(i)})),this.movetween=new l["a"].Tween(this.moveParams).to({transition:1},1500).onComplete((function(){i.fadetween.start()}))}return Object(r["a"])(e,[{key:"moveTo",value:function(e,t){i=e,a=e.pos.clone();var n=t.pos.clone();1==t.type&&n.add(new c["A"](0,0,u["a"].config.camHeight)),a.sub(n),a.multiplyScalar(u["a"].config.transitionscale),a.set(-a.y,a.z,a.x);var s=1500;o&&this.sceneB.scene.remove(o),o=e.roomMesh.clone(),this.sceneB.scene.add(o),this.movetween.duration(s),this.moveParams.transition=0,this.transitionParams.transition=0,this.movetween.start()}},{key:"render",value:function(){l["a"].update(),h.uniforms.mixRatio.value=this.transitionParams.transition,i&&1!=this.moveParams.transition&&0!=this.moveParams.transition&&o.position.copy(a.clone()).multiplyScalar(this.moveParams.transition),0==this.transitionParams.transition?this.sceneB.render(!1):1==this.transitionParams.transition?this.sceneA.render(!1):(this.sceneA.render(!0),this.sceneB.render(!0),this.renderer.setRenderTarget(null),this.renderer.clear(),this.renderer.render(this.scene,this.camera))}}]),e}()},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5f90":function(e,t,n){e.exports=n.p+"img/Entrance.b4027d8e.jpg"},"5fc5":function(e,t,n){e.exports=n.p+"img/gym.027092f6.jpg"},"664d":function(e,t,n){e.exports=n.p+"img/level2_10.1a747688.jpg"},"6a05":function(e,t,n){e.exports=n.p+"img/level2_5.cf1faf45.jpg"},"6ca1":function(e,t,n){},"6dcf":function(e,t,n){e.exports=n.p+"img/floor7.13d9a688.jpg"},"6dfc":function(e,t,n){e.exports=n.p+"img/coffee.641dc5a7.jpg"},"6e12":function(e,t,n){e.exports=n.p+"img/3.f78185ac.jpg"},"6ea4":function(e,t,n){e.exports=n.p+"img/poorbar.48a2087b.jpg"},"6fe8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAXCAYAAAD3CERpAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwUlEQVRIie2UsQ3CMBBFfyLqLMACZIF0uADjHvqINRIGANZA9KQ/XXUlC7BHMkDQRQkSPT6aPMmSKz/dyXpJ3/dwwR8AXBCXDkApxK9kvdsWAO6RhRMq3qRC/ATQGEnPQtwO61Vc8EVkYaer1ctHaklqbpylsVlM75v/Xhf8FcDeYMhaiB9/LVJtJCy/imTJHIdZ+hOGIrngMwDHyK5WiG960ThkYxxWBkM2QlzpepfjsSDXrU7tzQGcIlu1SJUQt2+vBE1GgPBoLwAAAABJRU5ErkJggg=="},7591:function(e,t,n){e.exports=n.p+"img/level2_10.2ac01a76.jpg"},"791d":function(e,t,n){e.exports=n.p+"img/Entrance.afd09cf0.jpg"},"7e8e":function(e,t,n){e.exports=n.p+"media/IntheMomentofInspiration.9cade3ff.mp3"},8032:function(e,t,n){e.exports=n.p+"img/co.7894c19e.jpg"},"824b":function(e,t,n){e.exports=n.p+"img/level2_5_1.0189afe0.jpg"},"84ae":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAACLCAYAAADoIS7yAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVR4nO3QQQEAIAwAoWn/zrOF94EInN0d/rvOG+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4iPiI+Ij4gsz8wDJLgQTo/W2GgAAAABJRU5ErkJggg=="},"85e4":function(e,t,n){e.exports=n.p+"img/outzoom.ba8f8f4c.svg"},"85e6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsSAAALEgHS3X78AAABCElEQVRIia3UsW3DMBCF4V+BB8gmRiawazbJAASCtFbjEbxB1LAXEPWxC6vWCPYm9gQyDqCDRDHJo8DXERA/nXTkVeM4UjJ9V2+BZ6BdFIZb4N0vh2y87+o3QKrbG+uaAHwGTk+ZsKDfwArYReC1se6irnwCXAWIwbJI4n1XS3OaKWysO8XgJO7hAVjmwn9wD8mG18C7smDJ74ZuS8JTPJRZsAafDafwKKz44iCugYccfJ8JL0nkBxcM+CgFSx6OXC1srKu0vyUI+1Ohrvghnjhuzf/tSjx1jo11re/JPVcVrr0g/gUvwMGPi2iq49dGHvpMwXMilcs0LA5LZORKowZjXfLGZQW4AZ0DvYdKe0cmAAAAAElFTkSuQmCC"},"877b":function(e,t,n){e.exports=n.p+"img/3.6c19314b.jpg"},8861:function(e,t,n){e.exports=n.p+"img/vip.ec035bd7.jpg"},"88ab":function(e,t,n){e.exports=n.p+"img/floor7.e1bff89f.jpg"},"8ecd":function(e,t,n){e.exports=n.p+"img/mlounge.6e6cf8aa.jpg"},"93e7":function(e,t,n){e.exports=n.p+"img/level2_5_1.6de7f079.jpg"},"96b3":function(e,t,n){e.exports=n.p+"img/coffee.641dc5a7.jpg"},"96bf":function(e,t,n){e.exports=n.p+"img/4.36f7b3f8.jpg"},"96ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i,o,a,s,r=n("1da1"),c=n("b85c"),l=n("d4ec"),u=n("bee2"),f=(n("96cf"),n("b0c0"),n("d81d"),n("99af"),n("d3b7"),n("5a89")),h=n("1f46"),d=new f["d"],p=new f["y"],g=1,v=function(){function e(t){Object(l["a"])(this,e),this.guid="",this.name="",this.fullname="",this.panotype=1,this.quality=2,this.pos=new f["A"],this.rot=new f["A"],this.links=[],this.lowReady=!1,this.onLoaded=null,s=t,this.obj=new f["e"],this.quality=1,i=this.createSphere(),this.obj.add(i),o=new f["e"],a=new f["e"],this.roomMesh=new f["e"]}return Object(u["a"])(e,[{key:"dispose",value:function(){var e;null===(e=this.obj.parent)||void 0===e||e.remove(this.obj)}},{key:"setMaxAnisotropy",value:function(e){g=e}},{key:"setPanoType",value:function(e,t){if(this.quality=t,this.panotype=e,this.obj.remove(a),this.obj.remove(o),1==this.panotype){var n=0;a=new f["e"];var i,s=Object(c["a"])(h["a"].config.cubeloader.faces);try{for(s.s();!(i=s.n()).done;){var r=i.value,l=this.generateCubeRing(r.count,r.angle,n);a.add(l),n+=r.count}}catch(u){s.e(u)}finally{s.f()}this.obj.add(a),this.roomMesh=a}else 2==this.panotype&&(o=this.createSphereForZoom(this.quality),this.obj.add(o),this.roomMesh=o)}},{key:"loadPano",value:function(e){var t=this;if(e.guid){this.setPanoType(e.panotype,e.quality),e.pos=new f["A"](e.pos.x,e.pos.y,e.pos.z),e.rot=new f["A"](e.rot.x,e.rot.y,e.rot.z);var n,o=Object(c["a"])(e.links||[]);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.pos=new f["A"](a.pos.x,a.pos.y,a.pos.z),a.pos2d=new f["z"]}}catch(s){o.e(s)}finally{o.f()}Object.assign(this,e),this.obj.traverse((function(e){var t=e;if(t.material){var n=t.material;n.map&&n.map.dispose(),e.visible=!1,e.userData.isLow=!0}})),this.lowReady=!1,this.loadHighTexture(i.children[0]).then((function(){t.lowReady=!0}))}else console.log("nodata")}},{key:"generateCubeRing",value:function(e,t,n){for(var i=new f["e"],o=1+100/(99+this.quality),a=0;a<e;a++){var s=new f["e"];i.add(s),this.createSplitPlane(s,n+a),s.quaternion.multiply((new f["o"]).setFromEuler(new f["b"](0,a*Math.PI*2/e,0))),s.quaternion.multiply((new f["o"]).setFromEuler(new f["b"](-t*Math.PI/180,0,0))),s.scale.set(o,o,o)}return i}},{key:"createSplitPlane",value:function(e,t){var n=h["a"].config.cubeloader,i=this.quality,o=this.quality,a=2*h["a"].config.viewDistance*Math.tan(n.fov/360*Math.PI),s=n.cropscale*a,r=s/this.quality,c=new f["n"](r,r,1,1);c.scale(-1,1,1);for(var l=0;l<i;l++)for(var u=0;u<o;u++){var d=new f["k"],p=new f["j"](c,d);p.name="".concat(this.quality,"_").concat(t,"_").concat(u,"_").concat(l),p.position.set(-(l-i/2+.5)*r,-(u-o/2+.5)*r,h["a"].config.viewDistance),e.add(p),p.visible=!1,p.userData={tileX:l,tileY:u,face:t,level:this.quality,isLow:!0},1==this.quality&&this.guid&&this.loadHighTexture(p)}}},{key:"createSphere",value:function(){var e=new f["e"],t=2*(1+100/(99+this.quality));e.scale.set(t,t,t);var n=new f["t"](h["a"].config.viewDistance,64,32);n.scale(-1,1,1);var i=new f["k"]({side:f["a"]}),o=new f["j"](n,i);return o.name="pano",o.rotation.set(0,Math.PI/2,0),e.add(o),o.userData={isLow:!0},e}},{key:"createSphereForZoom",value:function(e){var t=new f["e"],n=2*(1+100/(99+this.quality));t.scale.set(n,n,n);for(var i=0;i<2*e;++i)for(var o=0;o<e;++o)this.createSphereMeshForTile(t,e,i,o);return t.rotation.set(0,Math.PI/2,0),t}},{key:"createSphereMeshForTile",value:function(e,t,n,i){var o=2*t,a=t,s=2*Math.PI/o,r=Math.PI/a,c=new f["t"](h["a"].config.viewDistance,64,32,s*n,s,r*i,r);c.scale(-1,1,1);var l=new f["k"],u=new f["j"](c,l);u.name="".concat(t,"_").concat(i,"_").concat(n),u.userData={tileX:n,tileY:i,isLow:!0},e.add(u)}},{key:"update",value:function(){var e=this;this.guid&&this.lowReady&&(d.setFromProjectionMatrix((new f["i"]).multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse)),this.obj.traverse((function(t){t.isObject3D&&t.name&&t.userData&&t.userData.isLow&&d.intersectsObject(t)&&e.loadHighTexture(t)})))}},{key:"loadHighTexture",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.userData.isLow=!1,i=t.material,i.map&&i.map.dispose(),e.next=5,this.loadTexture("".concat(h["a"].config.baseUrl,"/pano/").concat(this.guid,"/").concat(t.name,".jpg"));case 5:i.map=e.sent,i.needsUpdate=!0,t.visible=!0,null===(n=this.onLoaded)||void 0===n||n.call(this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadTexture",value:function(e){return new Promise((function(t,n){p.load(e,(function(e){e.anisotropy=g,t(e)}),void 0,(function(e){n(e)}))}))}}]),e}()},"9a28":function(e,t,n){e.exports=n.p+"img/hinhvip.03c91e18.jpg"},"9be0":function(e,t,n){e.exports=n.p+"img/floor7.e1bff89f.jpg"},"9c0c":function(e,t,n){},"9c17":function(e,t,n){e.exports=n.p+"img/lift.ae436bda.jpg"},"9c81":function(e,t,n){e.exports=n.p+"img/2.9c8a9134.jpg"},a16e:function(e,t,n){e.exports=n.p+"img/arrow-move.307f3192.png"},a512:function(e,t,n){e.exports=n.p+"img/Entrance.b4027d8e.jpg"},a6a8:function(e,t,n){"use strict";n("573f")},a789:function(e,t,n){e.exports=n.p+"img/1.7bd0b505.jpg"},a8df:function(e,t,n){"use strict";var i=n("d893"),o=n.n(i),a=n("b5f6"),s=n.n(a),r=n("84ae"),c=n.n(r),l=n("a16e"),u=n.n(l);t["a"]={cursor:{url:o.a,texture:null},hotspot:{url:s.a,texture:null},airhotspot:{url:c.a,texture:null},infohotspot:{url:s.a,texture:null},control:{url:u.a,texture:null}}},aaae:function(e,t,n){e.exports=n.p+"img/level2_5_1.6de7f079.jpg"},ac9d:function(e,t,n){e.exports=n.p+"img/level2_8.070a6c93.jpg"},b187:function(e,t,n){e.exports=n.p+"img/coffee.879bbc4f.jpg"},b1f2:function(e,t,n){e.exports=n.p+"img/3.f78185ac.jpg"},b335:function(e,t,n){e.exports=n.p+"img/gym.599d117f.jpg"},b3ee:function(e,t,n){e.exports=n.p+"img/ent.e2e30af4.jpg"},b5f6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAxCAYAAACs0jsDAAAACXBIWXMAAAsSAAALEgHS3X78AAAFGUlEQVRogcVZv4/cRBR+u7lsJAiKdRKiCueCJmnOTWpcE6G4SY1rGlb8A7im2j/B11AAhSko6Jw6za4QVCB5Q4MUEbzASTku2UHjm/F+vH0z4909wZOs9Xp+ffO992bevBkppegaJCKiBH61zImohd+D5OiAxjERTYkoJaLTQN0lEVVEVBrgu4tmdMcnVUrVan+pTR87jbuL6rVaCyL6xFG+IKIGGIvN876j/jdElA82i4EzSpRSjcChZidXSkWB9plSqhTat0PZHQIyMx1ygMkeZhMrpSoBcH4o0FxgYOqpHxmG0gDL0uS9YEPqbhlIicXcsMQHRvanAnDN7nwoWB8zIZBTDzhJdN2CAY4YWBcZTqCVp7HEhGUNVZ4C2ygN6y9ijjofCjRjHWcec6gN8CFOhF7fMjUnbMxiCFCcXeUAyQeyzBQGfG2AcbtM2URxaSrYRGIf0CmrHAGIBr5zO4rU+tX323a5XgmM8wknDpJKH1CsiPSjnUkLdMfGq98a9cfXH6vVF7m6+KkWBxTAok2mbKaRBBRts2VO4bSd7lmvn+lCDbItH3ePBru+OLftQr5QOMjq1+wx7KY5vJewB5ewlxfiPjwa3X39Yknrv55vtua/z+n17439mwqtKrPfk4nCIvOOY/SYEOgjBlRLRkQn0JlTRpM3fMWuwMP2eQdAVVB+agKbHmgGhUuIgGxjzWbtQbIY336bbr77oP9w4zimo3fua9v60xODasrPGOgWmN5gE5aGGXi6lVDQ0NmbtsmXP36rXs6/RPuU7Vq2VbsC4OpToTNhIJwJHYTCOCmEszIf0N6uANZ5cAPQztUfRWKmDoKzzyIQ3Grj/0g70sXiq96htClM7j2kG8cnp8bmM08ftfER7XQzZiqdjxzhHyO2Usr+y6LUpzQa0fl3xb+8Xsvls6d0+8PPNehHhozG0cvcAEXCloArGTsaorg6v5rMaPTW5S9Pt0CSWaIuf+59MNmqsBFbCQ+JOG40ZmvcE3i3HQfPNOsXvrls9beX+Bi9Y373O95eswxRfTygzn8CFBlDUE+Eb/+bjJkNnghAohC48bFnLpM3h8zN2u/SNa5V/Qq+2VEt0z4n6Lzo5t0HdOv+w61CvaXeuveB/evbgu0Y6JW4AtQWqKR++82V6bAdd/vyEezzViYb8KFYwa48tg6qqCNRAsobUWBXyT1lVnyRVwImZ8fEJXPuAmpBNYaJEJhDU4q275UDaI1AxRjQ7LskbG/XJREALaFP1GCFQFtgDytW4Ggzun6ZwsYyg7HttxVXPQeCQSyy6rPVXUXb5mfm/Qw8Hu25ZxmBInsnoJIC2C5dJqCj+cl7G9PqI/wr4XYcAYgVgOP51A15LICd8YDVcbzlgXBlI/zLX3/onj7Cvzqh8kQFpoQwE4MBfO0718csk4HHCExBzoX80Xa6/Aokrzd39M9TSakPqJRaSRxgQ7lS/uSMhJJNwFXmBEps1lzVPAnbGMBSujA2ZTytzg+LqI1WOmO5gPLsGgfrSnErSJK5yviE+MEwkzCFVOUDS8aOygEJ3cqRs+IgZy48oeubGbuuWZhlS4r69boYs0iocQQjkVkOcSk6827VA5xgxmbdDkgq7OJUypHxG6x6nxkocKJQcsF6de64q3KqexfVc9WWjnvPhVFlK9zcpY6YdmVUXQlle6meP8WOtyFcpNuR4LOvnVlV8tsRn+i6Q03lINW7RHuwVi+/r7debz1/UJZCFCL6B5MlDTlL+VeSAAAAAElFTkSuQmCC"},b97a:function(e,t,n){e.exports=n.p+"img/1.7bd0b505.jpg"},bc0f:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PanoViewer}));var D_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),D_ui_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d4ec"),D_ui_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bee2"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2b3d"),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("9861"),core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__),_panocontrol__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("c47a"),three__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("5a89"),_pano_pano__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("96ea"),_pano_hotspotmanager__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("d8f6"),_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("22b5"),_assets__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("a8df"),_assetmanger__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("e0df"),_renderconfig__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("1f46"),_effect_crossfade__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("5b74"),autorotateTimeout,autorotateStart,autorotateEnd,canrender=!1,sceneA,sceneB;function drawStroked(e,t,n,i){e.font="3em Sans-serif",e.shadowColor="#e65a3e",e.strokeStyle="#e65a3e",e.fillStyle="#ffffff",e.shadowBlur=7,e.lineWidth=6,e.strokeText(t,n,i),e.shadowBlur=0,e.fillText(t,n,i)}function saveblobfile(e,t){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,n.click()}var PanoViewer=function(){function PanoViewer(element,opt){var _this=this;Object(D_ui_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["a"])(this,PanoViewer),this.needUpdate=!1,this.rotZ=1e3,this.onRequestLoadPano=null,this.onChangeRot=null,this.onChangeHotspot=null,this.onChangeClickable=null,console.log("init ra pano");var c="d2luZG93LlJBQ0UgPSBmdW5jdGlvbihwcm9qZWN0SWQsY2FsbGJhY2s9bnVsbCxlcnJvciA9IG51bGwpew0KICAgIGZldGNoKGBodHRwczovL3JvbGxpbmdhbnQuY29tL3NlcnZpY2VzL3dlYnJlcXVlc3QucGhwP3Byb2plY3RJZD0ke3Byb2plY3RJZH0mdD0ke01hdGgucmFuZG9tKCl9YCkNCiAgICAudGhlbihyZXM9PnJlcy5qc29uKCkpDQogICAgLnRoZW4ocmVzPT57DQogICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YQ0KICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInJhZXhwaXJhdGlvbiIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7DQogICAgICAgIGlmKGRhdGEuZXhwKjEwMDA8bmV3IERhdGUoKS5nZXRUaW1lKCkpew0KICAgICAgICAgICAgZXJyb3I/LihuZXcgRGF0ZShkYXRhLmV4cCoxMDAwKSkNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjYWxsYmFjaz8uKG5ldyBEYXRlKGRhdGEuZXhwKjEwMDApKQ0KICAgICAgICB9DQogICAgfSkNCiAgICAuY2F0Y2goZT0+ew0KICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICBjb25zdCByYWV4cGlyYXRpb24gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JhZXhwaXJhdGlvbicpDQogICAgICAgIGlmKHJhZXhwaXJhdGlvbil7DQogICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyYWV4cGlyYXRpb24pIA0KICAgICAgICAgICAgaWYoZGF0YS5leHAqMTAwMDxuZXcgRGF0ZSgpLmdldFRpbWUoKSl7DQogICAgICAgICAgICAgICAgZXJyb3I/LihuZXcgRGF0ZShkYXRhLmV4cCoxMDAwKSkNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrPy4obmV3IERhdGUoZGF0YS5leHAqMTAwMCkpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KQ0KfQ==",f=atob(c);eval(f),Object.assign(_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config,opt),this.element=element,this.camera=new three__WEBPACK_IMPORTED_MODULE_11__["m"](_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.fov,1,.01,3.14*_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.viewDistance*2),this.renderer=new three__WEBPACK_IMPORTED_MODULE_11__["C"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.element.appendChild(this.renderer.domElement),this.resize(),this.controls=new _panocontrol__WEBPACK_IMPORTED_MODULE_10__["a"](this.camera,this.element),_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.autorotdelay>300&&(autorotateStart=function(){autorotateTimeout=window.setTimeout((function(){_this.controls.autoRotate=!0}),_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.autorotdelay)},autorotateEnd=function(){window.clearTimeout(autorotateTimeout),_this.controls.autoRotate=!1},autorotateStart(),this.controls.addEventListener("start",autorotateEnd),this.controls.addEventListener("end",autorotateStart)),this.frustum=new three__WEBPACK_IMPORTED_MODULE_11__["d"],this.transition=new _effect_crossfade__WEBPACK_IMPORTED_MODULE_18__["a"](this.renderer,this.camera),this.hotspotManager=new _pano_hotspotmanager__WEBPACK_IMPORTED_MODULE_13__["a"](this.camera,this.element,this.transition),this.hotspotManager.onRequestLoadPano=function(e){var t;return null===(t=_this.onRequestLoadPano)||void 0===t?void 0:t.call(_this,e)},this.hotspotManager.onChangeClickable=function(e){e?element.classList.add("hotspot-clickable"):element.classList.remove("hotspot-clickable")},window.addEventListener("resize",(function(){_this.resize(),_this.render()})),window.addEventListener("orientationchange",(function(){_this.resize(),_this.render()})),this.pano=new _pano_pano__WEBPACK_IMPORTED_MODULE_12__["a"](this.camera),this.pano.setMaxAnisotropy(this.renderer.capabilities.getMaxAnisotropy()),this.transition.sceneA.scene.add(this.pano.obj),this.transition.sceneA.scene.add(this.hotspotManager.obj),this.transition.onComplete=function(){var e;null===(e=_this.onChangeRot)||void 0===e||e.call(_this,_this.rotZ)},_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.updateOnChange&&(this.hotspotManager.onChanged=function(){_this.needUpdate=!0},this.controls.addEventListener("change",(function(){_this.needUpdate=!0})),this.controls.onChanged=function(){_this.needUpdate=!0},this.pano.onLoaded=function(){_this.needUpdate=!0}),this.pano.onLoaded=function(){_this.needUpdate=!0},window.RACE(null===opt||void 0===opt?void 0:opt.projectId,(function(){return canrender=!0}),(function(){return _this.controls.enableRotate=!1})),canrender=!0,requestAnimationFrame((function(e){return _this.animate(e)}))}return Object(D_ui_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__["a"])(PanoViewer,[{key:"init",value:function(){var e=Object(D_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Object(_assetmanger__WEBPACK_IMPORTED_MODULE_16__["a"])("",_assets__WEBPACK_IMPORTED_MODULE_15__["a"],(function(){t.hotspotManager.init(),e("")}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadPanoById",value:function(){var e=Object(D_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.baseUrl,"/pano/").concat(t,".json?t=").concat(Math.random())).then((function(e){return e.json()}));case 2:return i=e.sent,this.loadPano(i,n),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.controls.updateZoom(this.camera.fov-e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.controls.updateZoom(this.camera.fov+e)}},{key:"autoRot",value:function(e){this.controls.autoRotate=e}},{key:"loadPano",value:function(){var e=Object(D_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.guid,this.pano.loadPano(t),this.hotspotManager.load(this.pano),n&&this.controls.setDefaultRot(t.rot),this.controls.limitViewForward(t.limitview?t.rot:null),this.rotZ=this.controls.getAzimuthalAngle(),null===(i=this.onChangeRot)||void 0===i||i.call(this,this.rotZ);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"animate",value:function(e){var t=this;canrender&&(requestAnimationFrame((function(e){return t.animate(e)})),_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_14__["a"].update(e),!this.needUpdate&&_renderconfig__WEBPACK_IMPORTED_MODULE_17__["a"].config.updateOnChange||(this.controls.update(),this.needUpdate=!1,this.render()))}},{key:"resize",value:function(e){var t=new three__WEBPACK_IMPORTED_MODULE_11__["z"];this.renderer.getSize(t),e||(e=new three__WEBPACK_IMPORTED_MODULE_11__["z"](this.element.offsetWidth,this.element.offsetHeight)),t.x==e.x&&t.y==e.y||(this.camera.aspect=e.x/e.y,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.x,e.y))}},{key:"render",value:function(){var e;if(this.transition.render(),this.pano&&this.pano.update(),this.pano.lowReady){var t,n=this.controls.getAzimuthalAngle();if(this.rotZ!=n)this.rotZ=n,null===(t=this.onChangeRot)||void 0===t||t.call(this,n);null===(e=this.onChangeHotspot)||void 0===e||e.call(this,this.hotspotManager.getinfopos())}}},{key:"capturescreen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=new three__WEBPACK_IMPORTED_MODULE_11__["z"];this.renderer.getSize(n);var i=new three__WEBPACK_IMPORTED_MODULE_11__["z"](this.element.clientWidth,this.element.clientHeight).multiplyScalar(window.devicePixelRatio);this.resize(i),this.render();var o=null;if(t&&t.length){var a=document.createElement("canvas");a.width=i.x,a.height=i.y;var s=a.getContext("2d");if(s){s.drawImage(this.renderer.domElement,0,0,i.x,i.y);for(var r=0;r<t.length;r++)drawStroked(s,t[r],20,60*r+50)}a.toBlob((function(e){o=e}),"image/jpeg",.95)}else this.renderer.domElement.toBlob((function(e){o=e}),"image/jpeg",.95);return this.resize(n),this.render(),console.log(!!o),e&&o&&saveblobfile(o,"screencapture.jpg"),o}}]),PanoViewer}()},bc61:function(e,t,n){e.exports=n.p+"img/Screenshot 2021-12-21 142720.55f078a4.jpg"},be28:function(e,t,n){e.exports=n.p+"img/level2_5.82189d28.jpg"},c18c:function(e,t,n){e.exports=n.p+"img/floor5.d84a0daa.jpg"},c242:function(e,t,n){e.exports=n.p+"img/vip.ec035bd7.jpg"},c47a:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("d4ec"),o=n("bee2"),a=n("262e"),s=n("2caf"),r=(n("4057"),n("5a89")),c=n("4721"),l=n("1f46"),u=!1,f=0,h=(new Event("change"),function(e){Object(a["a"])(n,e);var t=Object(s["a"])(n);function n(e,o){var a;return Object(i["a"])(this,n),a=t.call(this,e,o),a.onChanged=null,e.position.set(0,0,.01),a.enableDamping=!1,a.enableZoom=!1,a.rotateSpeed=-l["a"].config.fov/360,a.minPolarAngle=.1*Math.PI,a.maxPolarAngle=.9*Math.PI,a.isLimit=!1,a.domElement.addEventListener("touchstart",(function(e){return a.onTouchStartZoom(e)})),a.domElement.addEventListener("touchmove",(function(e){return a.onTouchMoveZoom(e)})),a.domElement.addEventListener("touchend",(function(){return a.onTouchEndZoom()})),a.domElement.addEventListener("wheel",(function(e){return a.onMouseWheel(e)})),a}return Object(o["a"])(n,[{key:"limitViewForward",value:function(e){if(this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.isLimit=e&&Array.isArray(e)&&3==e.length,this.isLimit){var t=new r["A"](0,0,-.1);t.applyEuler(new r["b"](e[0],e[2],e[1])),this.object.position.set(t.x,t.y,t.z),this.update();var n=this.getAzimuthalAngle();this.minAzimuthAngle=n-Math.PI/4,this.maxAzimuthAngle=n+Math.PI/4}}},{key:"setDefaultRot",value:function(e){this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0;var t=new r["A"](0,0,-.1);t.applyEuler(new r["b"](-e.y*Math.PI/180,-e.z*Math.PI/180,e.x*Math.PI/180)),this.object.position.set(t.x,t.y,t.z),this.update()}},{key:"onMouseWheel",value:function(e){if(l["a"].config.canZoom){var t=this.object,n=t.fov;n+=e.deltaY>0?1:-1,this.updateZoom(n)}}},{key:"onTouchStartZoom",value:function(e){l["a"].config.canZoom&&2==e.touches.length&&(u=!0,f=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY))}},{key:"onTouchMoveZoom",value:function(e){if(l["a"].config.canZoom){var t=this.object;if(2==e.touches.length&&u){var n=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY),i=t.fov;n-f>10?(i+=1,f=n):n-f<-10&&(i-=1,f=n),this.updateZoom(i)}}}},{key:"updateZoom",value:function(e){var t;if(l["a"].config.canZoom){var n=this.object;n.fov=r["h"].clamp(e,l["a"].config.minZoom,l["a"].config.maxZoom),n.updateProjectionMatrix(),null===(t=this.onChanged)||void 0===t||t.call(this)}}},{key:"onTouchEndZoom",value:function(){l["a"].config.canZoom&&u&&(u=!1)}}]),n}(c["a"]))},c4f9:function(e,t,n){e.exports=n.p+"img/turn.4d0c5a9b.svg"},c799:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-container",{staticClass:"logo",attrs:{"text-center":"",fluid:"",align:"center"},on:{click:function(t){return e.goto360view()}}},[i("div",{staticClass:"logo-row"},[i("v-img",{staticClass:"img-logo mr-10 ",attrs:{src:n("cf05")}})],1)])],1)},o=[],a=n("5530"),s=n("2f62"),r={data:function(){return{isShow:!1}},computed:Object(a["a"])({},Object(s["c"])(["mf"])),methods:Object(a["a"])(Object(a["a"])({goto360view:function(){this.$router.push("/")}},Object(s["d"])(["setmf"])),{},{showInfo:function(){console.log(this.mf),0==this.isShow?(this.setmf(!0),this.isShow=!0):(this.setmf(!1),this.isShow=!1)}})},c=r,l=(n("4ecc"),n("2877")),u=n("6544"),f=n.n(u),h=n("a523"),d=n("adda"),p=Object(l["a"])(c,i,o,!1,null,"e53045de",null);t["a"]=p.exports;f()(p,{VContainer:h["a"],VImg:d["a"]})},c7c1:function(e,t,n){e.exports=n.p+"img/ent.0f56b1d6.jpg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[n("router-view")],1)},a=[],s=(n("5c0b"),n("2877")),r={},c=Object(s["a"])(r,o,a,!1,null,null,null),l=c.exports,u=n("f309");i["a"].use(u["a"]);var f,h,d,p=new u["a"]({}),g=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",{staticClass:"bgg"},[n("Logo"),n("Bg")],1)],1)},m=[],_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"bg",attrs:{fluid:""}},[i("div",{staticClass:"app3d",attrs:{id:"streetview"}}),i("div",{class:{aaa:this.render},attrs:{id:"hotspot-info"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:this.render,expression:"this.render"}],staticClass:"hinhtam"},[i("img",{staticClass:"tam-img",attrs:{src:n("df06")("./"+e.hinhtam+".jpg")}})]),i("div",{staticClass:"text-center list-btn-control"},[i("v-btn",{staticClass:"item-btn-control in-zoom",on:{click:function(t){return e.inzoom()}}},[i("img",{staticClass:"icon-show",attrs:{width:"23",src:n("e58c")}})]),i("v-btn",{staticClass:"item-btn-control out-zoom",on:{click:function(t){return e.outzoom()}}},[i("img",{staticClass:"icon-show",attrs:{width:"23",src:n("85e4")}})]),i("v-btn",{staticClass:"item-btn-control turn ",class:{active:!e.isTurn},on:{click:function(t){e.turnb(),e.isTurn=!e.isTurn}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.isTurn,expression:"isTurn"}],staticClass:"icon-show",attrs:{width:"23",src:n("c4f9")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!e.isTurn,expression:"!isTurn"}],staticClass:"icon-show",attrs:{width:"23",src:n("2699")}})]),i("v-btn",{staticClass:"item-btn-control location",class:{active:e.isShowMap},on:{click:function(t){e.isShowMap=!e.isShowMap,e.setisShowQL(!1)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:!e.isShowMap,expression:"!isShowMap"}],staticClass:"icon-show",attrs:{width:"23",src:n("5557")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:e.isShowMap,expression:"isShowMap"}],staticClass:"icon-show",attrs:{width:"23",src:n("f9b0")}})])],1),i("div",{staticClass:"map",class:{activeMap:e.isShowMap}},[i("div",{staticClass:"minimap"},[i("div",{staticClass:"option-map"},[i("v-btn",{staticClass:"btn-option-map floorg",class:{active:1==e.map},on:{click:function(t){return e.loadMap(1)}}},[e._v(" GROUND FLOOR ")]),i("v-btn",{staticClass:"btn-option-map podium",class:{active:2==e.map},on:{click:function(t){return e.loadMap(2)}}},[e._v(" PODIUM ")]),i("v-btn",{staticClass:"btn-option-map floor26",class:{active:3==e.map},on:{click:function(t){return e.loadMap(3)}}},[e._v(" 26th FLOOR ")]),i("v-btn",{staticClass:"btn-exitmap",on:{click:function(t){e.isShowMap=!e.isShowMap}}},[i("img",{staticClass:"img-exitmap",attrs:{src:n("5998")}})])],1),i("div",{staticClass:"mini-map",attrs:{id:"mini-map"}})])]),i("v-container",{staticClass:"menu",class:{mf:this.mf},attrs:{fluid:""}},[i("v-row",[i("div",{staticClass:"nav"},[i("v-btn",{staticClass:" btn-nav",class:{active:this.isshowMenu},on:{click:function(t){return e.showMenu()}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:this.isshowMenu,expression:"this.isshowMenu"}],staticClass:"icon-show",attrs:{width:"27",src:n("6fe8")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!this.isshowMenu,expression:"!this.isshowMenu"}],staticClass:"icon-show",attrs:{width:"27",src:n("3e94")}})])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:this.isshowMenu,expression:"this.isshowMenu"}],staticClass:"conten-nav"},[i("div",{staticClass:"option"},[i("v-btn",{staticClass:"btn-option",class:{active:1==e.menu},on:{click:function(t){return e.goto360view()}}},[e._v(" 360° Views ")]),i("v-btn",{staticClass:"btn-option",class:{active:2==e.menu},on:{click:function(t){return e.gotofloorplans()}}},[e._v(" Floor plans ")]),i("v-btn",{staticClass:"btn-option",class:{active:3==e.menu},on:{click:function(t){return e.gotolocation()}}},[e._v(" Location Map ")]),i("v-btn",{staticClass:"btn-option last",class:{active:this.isshowQL},on:{click:function(t){e.showQL(),e.goto360view()}}},[e._v(" Facilities ")]),i("v-btn",{staticClass:"btn-music",on:{click:function(t){return e.ismusic()}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:this.musicz,expression:"this.musicz"}],staticClass:"img-music",attrs:{src:n("128f")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!this.musicz,expression:"!this.musicz"}],staticClass:"img-music",attrs:{src:n("85e6")}})])],1)])]),i("v-row",[i("div",{staticClass:"quick"},[i("div",{directives:[{name:"show",rawName:"v-show",value:this.isshowQL,expression:"this.isshowQL"}],staticClass:"content-quick"},[i("v-row",{staticClass:"dd"},[i("v-card",{staticClass:"card-quick",class:{facilites:1==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("floor5",1)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("c18c")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Arrival")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:2==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("floor7",2)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("9be0")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Retail Area")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:3==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_gym",3)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("d11f")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Gym")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:4==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_vip_dinning",4)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("8861")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Vip Dinning")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:5==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_1",5)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("4c67")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Main resort pool")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:6==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_2",6)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("2c0f")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Pool bar")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:7==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_8",7)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("ac9d")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("sunset pods")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:8==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_7",8)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("3820")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Alfresco dining 1 ")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:9==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_9",9)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("2063")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Sunrise pod")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:10==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_10",10)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("2350")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Alfresco dining 2")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:11==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_5",11)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("0982")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Lap Pool")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:12==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level2_20",12)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("93e7")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("wellness terrace")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:13==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("floor16",13)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("ff34")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Resident lobby")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:14==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level26_3",14)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("96b3")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Coffee Emporium")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:15==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level26_5",15)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("45f1")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Co-working space")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:16==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level26_8",16)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("28b7")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Meeting room")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:17==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level26_9",17)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("05c6")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Meeting Lounge")])],1),i("v-card",{staticClass:"card-quick",class:{facilites:18==e.facilites},attrs:{hover:""},on:{click:function(t){return e.gotoview("level26_nultifunction",18)}}},[i("v-img",{staticClass:"card-img",attrs:{src:n("05c6")}}),i("div",{staticClass:"card-title",attrs:{"text-center":""}},[e._v("Multi-Funtion Space")])],1)],1)],1)])]),i("div",{staticClass:"nut",on:{click:function(t){return e.gotoview("overview",1)}}})],1)],1)},w=[],b=n("53ca"),A=n("b85c"),y=n("5530"),j=(n("d81d"),n("b0c0"),n("7db0"),n("99af"),n("498a"),n("2f62")),C=n("bc0f"),P=n("3aad"),E="./",I=new Audio(n("7e8e")),x={data:function(){return{viewer:null,dialog:!1,isInzoom:!0,isOutzoom:!0,isTurn:!0,zoom:0,turn:!1,isNar:!0,isShowMap:!1,hinhtam:"hinhgym",file:"http://www.hochmuth.com/mp3/Boccherini_Concerto_478-1.mp3"}},computed:Object(y["a"])({},Object(j["c"])(["menu","map","facilites","isshowQL","isshowMenu","mf","render","musicz","musicz2"])),mounted:function(){var e=this,t=document.getElementById("streetview");h=document.getElementById("hotspot-info");var n={projectId:"61ea54ed25",baseUrl:E,canZoom:!0,updateOnChange:!1,transitionscale:5,minZoom:40,maxZoom:75};this.viewer=new C["a"](t,n),this.viewer.controls.enableDamping=!0,this.viewer.onChanged=function(){console.log(e.viewer.camera.fov)};var i={baseUrl:E,runtime:!0,border:"all",colorError:"#033348",radius:8,borderRadius:1,canSelect:!1,canPan:!1,camera:{path:"imgs/cung.svg",transform:{x:150,y:45,width:300,height:220,r:-85}}};f=new P["a"](document.getElementById("mini-map"),i),f.load(String(this.map)),this.viewer.init().then((function(){e.loadPanoById("overview",!0)})),this.viewer.onRequestLoadPano=function(t){e.loadPanoById(t.name)},this.viewer.onChangeRot=function(e){d&&f.updateCam(d.pos,e)};var o=[];function a(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}this.viewer.onChangeHotspot=function(t){var n,i=Object(A["a"])(o);try{for(i.s();!(n=i.n()).done;){var s=n.value;s.el.style="display:none"}}catch(u){i.e(u)}finally{i.f()}var r,c=Object(A["a"])(t);try{var l=function(){var t=r.value,n=o.find((function(e){return e.name==t.name}));if(7==t.type&&(n||(n={name:t.name,el:a('\n                <div class="pano-hotspot pp" >\n                    <img class="icon-hotspots hpPP" src="./imgs/hpPP.png">\n                </div>\n                ')},o.push(n),h.appendChild(n.el)),n.el.style="top:".concat(t.pos2d.y-70,"px;left:").concat(t.pos2d.x-42,"px;")),2==t.type){if(!n){var i=a('<button class="btn-img" ">\n                                            <img class="icon-hotspotpp" src="./imgs/hotspotT.png">\n                                        </button>');i.onclick=function(){return e.loadPanoById(t.name,!0)},n={name:t.name,el:a('\n                <div class="pano-hotspot hotspotpp" >\n                 \n                </div>\n                ')},n.el.appendChild(i),o.push(n),h.appendChild(n.el)}n.el.style="top:".concat(t.pos2d.y-60,"px;left:").concat(t.pos2d.x-30,"px;")}if(6==t.type){if(!n){var s=a('<button class="imgsss">\n                                            <img class="icon-hotspotpp" src="./imgs/1x/hotspotDD.png">\n                                        </button>');s.onclick=function(){return e.loadPanoById(t.name,!0)},n={name:t.name,el:a('\n                <div class="pano-hotspot hotspotpp" >\n                 \n                </div>\n                ')},n.el.appendChild(s),o.push(n),h.appendChild(n.el)}n.el.style="top:".concat(t.pos2d.y-60,"px;left:").concat(t.pos2d.x-30,"px;")}if(5==t.type){if(!n){var c=a('<button class="imgsss">\n                                            <img class="icon-hotspotpp" src="./imgs/1x/hotspotDN.png">\n                                        </button>');c.onclick=function(){return e.loadPanoById(t.name,!0)},n={name:t.name,el:a('\n                <div class="pano-hotspot hotspotpp" >\n                 \n                </div>\n                ')},n.el.appendChild(c),o.push(n),h.appendChild(n.el)}n.el.style="top:".concat(t.pos2d.y-60,"px;left:").concat(t.pos2d.x-30,"px;")}4==t.type&&(n||(n={name:t.name,el:a('\n                <div class="pano-hotspot hotspot" >\n                    \n                    \n                    <button class="btn-img">\n                    <div class="title-hotspot text-center" style="margin-bottom: 5px" >\n                    <img class="img-hotspot" src="'.concat(E,"/pano/anh").concat(t.img,'.jpg">\n                    <p class="name-hotspot"> ').concat(t.name,' </p>\n                    </div>\n                     <img class="icon-hotspot" src="./imgs/hotspotTT.png">\n                    </button>\n                </div>\n                '))},o.push(n),h.appendChild(n.el)),n.el.style="top:".concat(t.pos2d.y-60,"px;left:").concat(t.pos2d.x-30,"px;"))};for(c.s();!(r=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}},f.onclick=function(t){e.loadPanoById(t.name,!0),e.setRender(!1)},1==this.musicz&&0==this.musicz2&&I.play()},methods:Object(y["a"])(Object(y["a"])({},Object(j["d"])(["setMenu","setFacilites","setMap","setisShowQL","setisShowMenu","setismf","setRender","setMusicz","setMusicz2"])),{},{ismusic:function(){1==this.musicz?(this.setMusicz(!1),this.setMusicz2(!1),I.pause()):(this.setMusicz(!0),this.setMusicz2(!1),I.play())},showMenu:function(){1==this.isshowMenu?this.setisShowMenu(!1):this.setisShowMenu(!0)},showQL:function(){console.log(this.isshowQL),1==this.isshowQL?this.setisShowQL(!1):this.setisShowQL(!0),1==this.isshowQL&&1==this.isShowMap&&(this.isShowMap=!1)},loadMap:function(e){this.setMap(e),console.log("load map"),console.log(Object(b["a"])(e)),f.load(String(e))},gotoview:function(e,t){this.loadPanoById(e,!0),this.setFacilites(t),this.setisShowQL(!1),this.setRender(!1)},gotorender:function(e,t){this.hinhtam=String(e),this.setRender(!0),this.setFacilites(t),this.setisShowQL(!1)},gotofloorplans:function(){this.setMenu(2),this.setisShowMenu(!1),this.$router.push("/floorplans"),1==this.musicz&&(this.setMusicz(!1),this.setMusicz2(!0),I.pause())},gotolocation:function(){this.setMenu(3),this.setisShowMenu(!1),this.$router.push("/location"),1==this.musicz&&(this.setMusicz(!1),this.setMusicz2(!0),I.pause())},goto360view:function(){this.loadPanoById("overview",!0),this.setRender(!1),this.setMenu(1),this.setisShowMenu(!1),this.$router.push("/")},goto360view2:function(){this.setMenu(1),this.$router.push("/")},gotomap:function(e){this.setMinimap(e),this.minimapt=e},inzoom:function(){this.viewer.zoomIn(),this.viewer.zoomIn(),this.viewer.zoomIn(),this.viewer.zoomIn(),this.viewer.zoomIn(),this.zoom+=1,0==this.zoom?(this.isInzoom=!0,this.isOutzoom=!0):this.zoom>0?(this.isInzoom=!1,this.isOutzoom=!0):(this.isInzoom=!0,this.isOutzoom=!1)},outzoom:function(){this.viewer.zoomOut(),this.viewer.zoomOut(),this.viewer.zoomOut(),this.viewer.zoomOut(),this.viewer.zoomOut(),this.zoom-=1,0==this.zoom?(this.isInzoom=!0,this.isOutzoom=!0):this.zoom<0?(this.isInzoom=!0,this.isOutzoom=!1):(this.isInzoom=!1,this.isOutzoom=!0)},turnb:function(){this.turn=!this.turn,this.viewer.autoRot(this.turn)},loadPanoById:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={happyschool:"05j",lovingschool:"05x",nhatesla:"04d",nhacantata:"01t",vuonzen:"01d",tttm:"overview",ecoffee:"overview",baotangthegioicaphe:"00h","gym-yoga-bancung":"00o","cuoingua-golf":"overview",trungnguyenlegend:"02o",amthuc:"overview"};n[e]&&(e=n[e]),this.viewer.loadPanoById(e,t).then((function(e){d=e,f.updateCam(d.pos,d.rotZ)})).catch(console.log)}})},M=x,k=(n("a6a8"),n("6544")),O=n.n(k),D=n("8336"),R=n("b0af"),L=n("a523"),B=n("adda"),S=n("0fd9"),z=Object(s["a"])(M,_,w,!1,null,null,null),T=z.exports;O()(z,{VBtn:D["a"],VCard:R["a"],VContainer:L["a"],VImg:B["a"],VRow:S["a"]});var U=n("c799"),W={name:"OverView",components:{Logo:U["a"],Bg:T},data:function(){return{}}},K=W,N=(n("fee6"),n("7496")),G=n("f6c4"),q=Object(s["a"])(K,v,m,!1,null,null,null),Q=q.exports;O()(q,{VApp:N["a"],VMain:G["a"]}),i["a"].use(g["a"]);var X=[{path:"/",name:"OverView",component:Q},{path:"/furniture/:type",name:"Furniture",component:function(){return n.e("about").then(n.bind(null,"0ab9"))}},{path:"/location",name:"LocationMap",component:function(){return n.e("about").then(n.bind(null,"a906"))}},{path:"/floorplans",name:"Floorplans",component:function(){return n.e("about").then(n.bind(null,"dd71"))}},{path:"/apart/:type",name:"Apart",component:function(){return n.e("about").then(n.bind(null,"faf4"))}},{path:"/test/:type",name:"Test",component:function(){return n.e("about").then(n.bind(null,"78c1"))}}],J=new g["a"]({mode:"history",base:"/spgland/v18/",routes:X}),V=J;n("ac1f"),n("00b4");i["a"].use(j["a"]);var Z=new j["a"].Store({state:{menu:1,map:1,facilites:1,test:2,isshowQL:!1,isshowMenu:!1,mf:!1,render:!1,musicz:!1,musicz2:!1,audio:new Audio(n("7e8e"))},mutations:{setMenu:function(e,t){e.menu=t},setMap:function(e,t){e.map=t},setFacilites:function(e,t){e.facilites=t},setisShowQL:function(e,t){e.isshowQL=t},setisShowMenu:function(e,t){e.isshowMenu=t},setmf:function(e,t){e.mf=t},setRender:function(e,t){e.render=t},setMusicz:function(e,t){e.musicz=t},setMusicz2:function(e,t){e.musicz2=t}},actions:{updateMinimap:function(e,t){var n=e.commit;n("setMinimap",t)},updateTest:function(e,t){var n=e.commit;n("setTest",t)}},modules:{},getters:{menu:function(e){return e.menu},test:function(e){return e.test},map:function(e){return e.map},facilites:function(e){return e.facilites},isshowQL:function(e){return e.isshowQL},isshowMenu:function(e){return e.isshowMenu},mf:function(e){return e.mf},render:function(e){return e.render},musicz:function(e){return e.musicz},musicz2:function(e){return e.musicz2}}}),Y=Z;n("27c7");i["a"].config.productionTip=!1,new i["a"]({vuetify:p,router:V,store:Y,render:function(e){return e(l)}}).$mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.a41c90aa.png"},d11f:function(e,t,n){e.exports=n.p+"img/hinhgym.f7ed392f.jpg"},d7d1:function(e,t,n){e.exports=n.p+"img/4.36f7b3f8.jpg"},d893:function(e,t,n){e.exports=n.p+"img/cursor2.be7255f4.png"},d8f6:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i,o,a,s,r,c,l,u,f,h,d,p,g,v,m,_,w=n("b85c"),b=n("d4ec"),A=n("bee2"),y=(n("99af"),n("7db0"),n("d3b7"),n("b0c0"),n("d81d"),n("4de4"),n("2af1"),n("4c53"),n("5a89")),j=n("a8df"),C=n("1f46"),P={ground:1,air:2,info:3,air2:4,air3:5,air4:6,air5:7},E={Left:0,Mid:1,Right:2},I=(E.Left,new y["z"]),x=new y["z"],M=new y["q"],k=0,O=new y["d"],D=null,R=function(){function e(t,n,i){var o=this;Object(b["a"])(this,e),this.onChanged=null,this.onRequestLoadPano=null,this.onChangeClickable=null,this.transition=i,v=function(e){return o.onPointerDown(e)},m=function(e){return o.onPointerUp(e)},_=function(e){return o.onPointerMove(e)},p=n,g=t,p.addEventListener("pointerdown",v),p.addEventListener("pointermove",_),p.addEventListener("pointerup",m),this.obj=new y["e"]}return Object(A["a"])(e,[{key:"onPointerDown",value:function(e){e.preventDefault(),e.button,I.x=e.offsetX/p.offsetWidth*2-1,I.y=-e.offsetY/p.offsetHeight*2+1,x.copy(I),k=Date.now()}},{key:"onPointerUp",value:function(e){e.preventDefault(),I.x=e.offsetX/p.offsetWidth*2-1,I.y=-e.offsetY/p.offsetHeight*2+1,Date.now()-k<300&&I.distanceTo(x)<72/Math.min(p.clientWidth,p.clientHeight)&&this.onClick()}},{key:"onClick",value:function(){if(1==this.transition.transitionParams.transition){var e=this.navRaycast().concat(this.hotspotRaycast()).concat(this.groudRaycast());if(e.length){var t,n=d.links.find((function(t){return t.obj==e[0].object}));if(n)1==n.type&&this.transition.moveTo(d,n),f.visible=!1,null===(t=this.onRequestLoadPano)||void 0===t||t.call(this,n)}}}},{key:"onPointerMove",value:function(e){e.preventDefault(),I.x=e.offsetX/p.offsetWidth*2-1,I.y=-e.offsetY/p.offsetHeight*2+1,this.update()}},{key:"dispose",value:function(){p.removeEventListener("pointerdown",v),p.removeEventListener("pointermove",_),p.removeEventListener("pointerup",m)}},{key:"init",value:function(){var e=new y["k"]({transparent:!0,map:j["a"].hotspot.texture,opacity:C["a"].config.showHotspot?1:0}),t=new y["n"](.4,.4,1,1);i=new y["j"](t,e),i.rotation.set(-Math.PI/2,0,0);var n=new y["k"]({transparent:!0,map:j["a"].cursor.texture});u=new y["j"](t,n),u.rotation.set(-Math.PI/2,0,0),u.renderOrder=1,this.obj.add(u),u.visible=!1;var d=new y["w"]({map:j["a"].airhotspot.texture});o=new y["v"](d),o.scale.set(.6,.6,.6),s=new y["v"](d),s.scale.set(.6,.6,.6),r=new y["v"](d),r.scale.set(.6,.6,.6),c=new y["v"](d),c.scale.set(.6,.6,.6),l=new y["v"](d),l.scale.set(.6,.6,.6);var p=new y["w"]({map:j["a"].infohotspot.texture});a=new y["v"](p),a.scale.set(.6,.6,.6),f=new y["e"];var g=new y["k"]({transparent:!0,map:j["a"].control.texture}),v=new y["k"]({transparent:!0,color:"#808080",map:j["a"].control.texture}),m=new y["n"](1,.4,1,1),_=new y["j"](m,g),w=new y["j"](m,v);w.position.set(0,0,-.05),_.add(w);var b=_.clone();b.position.set(0,1,0),b.name="forward",f.add(b),b=_.clone(),b.name="left",b.position.set(-1,0,0),b.rotation.set(0,0,Math.PI/2),f.add(b),b=_.clone(),b.name="right",b.position.set(1,0,0),b.rotation.set(0,0,-Math.PI/2),f.add(b),b=_.clone(),b.name="back",b.position.set(0,-1,0),b.rotation.set(0,0,Math.PI),f.add(b),f.rotation.set(-Math.PI/2,0,0),f.scale.set(.2,.2,.2),this.obj.add(f),f.visible=!1;var A=new y["n"](5*C["a"].config.viewDistance,5*C["a"].config.viewDistance,1,1),P=new y["k"]({transparent:!0,opacity:0});h=new y["j"](A,P),h.position.set(0,-C["a"].config.camHeight,0),h.rotation.set(-Math.PI/2,0,0),this.obj.add(h)}},{key:"hotspotRaycast",value:function(){M.setFromCamera(I,g);var e=M.intersectObjects(d.links.filter((function(e){return e.obj})).map((function(e){return e.obj})),!0);return e.length?e:[]}},{key:"navRaycast",value:function(){M.setFromCamera(I,g);var e=M.intersectObjects(f.children,!0);return e.length?(e[0].object=e[0].object.userData.target,e):[]}},{key:"groudRaycast",value:function(){M.setFromCamera(I,g);var e=M.intersectObjects([h]);if(e.length){var t=this.findNearest(e[0].point);if(t)return e[0].object=t,e}return[]}},{key:"findNearest",value:function(e){var t,n=C["a"].config.linkDistance,i=null,o=Object(w["a"])(d.links.filter((function(e){return e.obj&&e.type==P.ground})).map((function(e){return e.obj})));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=e.distanceTo(a.position);s<n&&(n=s,i=a)}}catch(r){o.e(r)}finally{o.f()}return i}},{key:"findNearestForward",value:function(){var e=new y["o"],t=null;g.getWorldQuaternion(e);var n=new y["A"](0,0,1);n.applyQuaternion(e),n.y=0,n.normalize().negate();var i,o=C["a"].config.linkDistance,a=Object(w["a"])(d.links.filter((function(e){return e.obj&&e.type==P.ground})).map((function(e){return e.obj})));try{for(a.s();!(i=a.n()).done;){var s=i.value,r=s.position.clone();r.y=0;var c=r.length();r.normalize(),r.projectOnVector(n),r.length()*Math.sign(r.dot(n))>.8&&c<o&&(t=s,o=c)}}catch(l){a.e(l)}finally{a.f()}return t}},{key:"load",value:function(e){if(d){var t,n=Object(w["a"])(d.links);try{for(n.s();!(t=n.n()).done;){var u,f=t.value;if(f.obj)null===(u=f.obj.parent)||void 0===u||u.remove(f.obj)}}catch(m){n.e(m)}finally{n.f()}}d=e;var h,p=Object(w["a"])(e.links);try{for(p.s();!(h=p.n()).done;){var g=h.value,v=g.pos.clone().sub(e.pos);g.type==P.ground&&(g.obj=i.clone(),v.sub(new y["A"](0,0,C["a"].config.camHeight)),v.z>0&&v.set(v.x,v.y,-v.z),v.multiplyScalar(-C["a"].config.camHeight/v.z)),g.type==P.air&&(g.obj=o.clone(),v.multiplyScalar(10/v.length())),g.type==P.info&&(g.obj=a.clone(),v.multiplyScalar(10/v.length())),g.type==P.air2&&(g.obj=s.clone(),v.multiplyScalar(10/v.length())),g.type==P.air3&&(g.obj=r.clone(),v.multiplyScalar(10/v.length())),g.type==P.air4&&(g.obj=c.clone(),v.multiplyScalar(10/v.length())),g.type==P.air5&&(g.obj=l.clone(),v.multiplyScalar(10/v.length())),g.obj&&(g.obj.position.set(-v.y,v.z,v.x),d.obj.add(g.obj))}}catch(m){p.e(m)}finally{p.f()}}},{key:"update",value:function(){var e;if(1==this.transition.transitionParams.transition&&h&&d){M.setFromCamera(I,g);var t=M.intersectObjects([h]);C["a"].config.showCursor&&t.length?(u.visible=!0,u.position.copy(t[0].point)):u.visible=!1;var n=C["a"].config.isMobile?-.4:-.6;M.setFromCamera({x:0,y:n},g),f.position.copy(M.ray.direction);var i=this.findNearestForward();if(f.visible=!!i,i){var o=i.position.clone();o.y=0;var a=o.length();o.normalize();var s=(new y["o"]).setFromUnitVectors(new y["A"](0,0,-1),o);s.multiply((new y["o"]).setFromEuler(new y["b"](-Math.PI/2,0,0))),f.quaternion.copy(s);var r=[];r.push(new y["A"](0,1,0).applyQuaternion(s)),r.push(new y["A"](-1,0,0).applyQuaternion(s)),r.push(new y["A"](1,0,0).applyQuaternion(s)),r.push(new y["A"](0,-1,0).applyQuaternion(s));for(var c=1;c<4;c++)f.children[c].visible=!1;f.children[0].userData.target=i;for(var l=1;l<4;l++){var p,v=Object(w["a"])(d.links.filter((function(e){return e.obj&&e.type==P.ground})).map((function(e){return e.obj})));try{for(v.s();!(p=v.n()).done;){var m=p.value,_=m.position.clone();if(!(2*a<_.length())){_.normalize(),_.projectOnVector(r[l]);var b=_.length()*_.dot(r[l]);b>.8&&(f.children[l].visible=!0,f.children[l].userData.target=m)}}}catch(x){v.e(x)}finally{v.f()}}}var A=this.hotspotRaycast()[0]||{};if(A.object!=D){var j;if(D=A.object,A.object){var E=d.links.find((function(e){return e.obj==A.object}));E&&E.name||(D=null)}null===(j=this.onChangeClickable)||void 0===j||j.call(this,!!D)}null===(e=this.onChanged)||void 0===e||e.call(this)}}},{key:"worldtoscreen",value:function(e){return e.clone().project(g)}},{key:"screentoworld",value:function(e){return e.clone().unproject(g).normalize()}},{key:"getinfopos",value:function(){var e=[],t=p.offsetWidth,n=p.offsetHeight;O.setFromProjectionMatrix((new y["i"]).multiplyMatrices(g.projectionMatrix,g.matrixWorldInverse));var i,o=Object(w["a"])(d.links.filter((function(e){return e.type!=P.ground})));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.obj;if(O.intersectsObject(s)){var r=this.worldtoscreen(s.position);a.pos2d||(a.pos2d=new y["z"]),a.pos2d.set(Math.ceil(r.x*t/2+t/2),Math.ceil(-r.y*n/2+n/2)),e.push(a)}}}catch(c){o.e(c)}finally{o.f()}return e}}]),e}()},dba8:function(e,t,n){e.exports=n.p+"img/poorbar.a9b4ab05.jpg"},dde5:function(e,t,n){e.exports=n.p+"img/vip.00bd199a.jpg"},df06:function(e,t,n){var i={"./1.jpg":"a789","./2.jpg":"4104","./3.jpg":"b1f2","./4.jpg":"96bf","./Entrance.jpg":"5f90","./New folder/1.jpg":"1900","./New folder/2.jpg":"2f8a","./New folder/3.jpg":"877b","./New folder/4.jpg":"e845","./New folder/Entrance.jpg":"791d","./New folder/JPEG/1.jpg":"b97a","./New folder/JPEG/2.jpg":"9c81","./New folder/JPEG/3.jpg":"6e12","./New folder/JPEG/4.jpg":"d7d1","./New folder/JPEG/Entrance.jpg":"a512","./New folder/JPEG/co.jpg":"2073","./New folder/JPEG/coffee.jpg":"6dfc","./New folder/JPEG/ent.jpg":"b3ee","./New folder/JPEG/floor5.jpg":"2f67","./New folder/JPEG/floor7.jpg":"88ab","./New folder/JPEG/gym.jpg":"e5e1","./New folder/JPEG/level2_1.jpg":"3bc2","./New folder/JPEG/level2_10.jpg":"7591","./New folder/JPEG/level2_5.jpg":"be28","./New folder/JPEG/level2_5_1.jpg":"aaae","./New folder/JPEG/level2_7.jpg":"f284","./New folder/JPEG/level2_8.jpg":"112f","./New folder/JPEG/level2_9.jpg":"21d2","./New folder/JPEG/lift.jpg":"9c17","./New folder/JPEG/mlounge.jpg":"8ecd","./New folder/JPEG/mroom.jpg":"0899","./New folder/JPEG/poorbar.jpg":"6ea4","./New folder/JPEG/vip.jpg":"c242","./New folder/co.jpg":"8032","./New folder/coffee.jpg":"b187","./New folder/ent.jpg":"c7c1","./New folder/floor5.jpg":"32c5","./New folder/floor7.jpg":"6dcf","./New folder/gym.jpg":"b335","./New folder/level2_1.jpg":"f1ba","./New folder/level2_10.jpg":"664d","./New folder/level2_5.jpg":"6a05","./New folder/level2_5_1.jpg":"824b","./New folder/level2_7.jpg":"3ae5","./New folder/level2_8.jpg":"3ddd","./New folder/level2_9.jpg":"3209","./New folder/lift.jpg":"f12e","./New folder/mlounge.jpg":"4231","./New folder/mroom.jpg":"31b7","./New folder/poorbar.jpg":"dba8","./New folder/vip.jpg":"dde5","./Screenshot 2021-12-21 142720.jpg":"bc61","./co.jpg":"45f1","./coffee.jpg":"96b3","./ent.jpg":"eb21","./floor5.jpg":"c18c","./floor7.jpg":"9be0","./gym.jpg":"5fc5","./hinhgym.jpg":"d11f","./hinhvip.jpg":"9a28","./level2_1.jpg":"4c67","./level2_10.jpg":"2350","./level2_5.jpg":"0982","./level2_5_1.jpg":"93e7","./level2_7.jpg":"3820","./level2_8.jpg":"ac9d","./level2_9.jpg":"2063","./lift.jpg":"ff34","./mlounge.jpg":"05c6","./mroom.jpg":"28b7","./poorbar.jpg":"2c0f","./vip.jpg":"8861"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id="df06"},e0df:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5a89"),o=new i["y"];function a(e){var t=0;for(var n in e)!0!==e[n].loading&&t++;return t}function s(e){for(var t in e)if(!0===e[t].loading)return!1;return!0}function r(e,t,n,i){e&&"/"!=e[e.length-1]&&(e+="/"),console.log("========================"),console.log(e),console.log("----------------"),console.log(e[e.length-1]);var r=function(r){var c=t[r],l=c.url;c.loading=!0,o.load(e+l,(function(e){c.texture=e,c.loading=!1,i&&i(a(t)),n&&s(t)&&n()}),(function(){}),(function(e){console.error("Error loading asset",e)}))};for(var c in t)r(c)}},e58c:function(e,t,n){e.exports=n.p+"img/inzoom.bbef706c.svg"},e5e1:function(e,t,n){e.exports=n.p+"img/gym.027092f6.jpg"},e845:function(e,t,n){e.exports=n.p+"img/4.e46568a5.jpg"},eb21:function(e,t,n){e.exports=n.p+"img/ent.e2e30af4.jpg"},f12e:function(e,t,n){e.exports=n.p+"img/lift.0ff0e4ff.jpg"},f1ba:function(e,t,n){e.exports=n.p+"img/level2_1.0bade6fa.jpg"},f284:function(e,t,n){e.exports=n.p+"img/level2_7.8dbcef7b.jpg"},f9b0:function(e,t,n){e.exports=n.p+"img/locationb.a6bc8b1f.svg"},fee6:function(e,t,n){"use strict";n("49d0")},ff34:function(e,t,n){e.exports=n.p+"img/lift.ae436bda.jpg"}});
//# sourceMappingURL=app.13d84bf7.js.map